name: Verify Dependencies

on:
  workflow_dispatch:
    inputs:
      branch:
        description: 'Branch to verify'
        required: true
        default: 'feature-wildcard-file-autoload'

jobs:
  verify:
    name: Composer resolve (no lock file)
    runs-on: ubuntu-latest

    steps:
      - name: Checkout
        uses: actions/checkout@v4
        with:
          ref: ${{ inputs.branch }}

      - name: Setup PHP
        uses: shivammathur/setup-php@v2
        with:
          php-version: '8.2'
          tools: composer:v2

      - name: Verify dependencies resolve
        run: composer update --no-progress
